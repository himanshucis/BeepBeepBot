/**
 * 
 */
package com.beepbot.test.services;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.mockito.Mockito.when;

import java.util.Collection;
import java.util.Map;

import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.junit.runner.RunWith;
import org.mockito.Mockito;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.ui.ConcurrentModel;
import org.springframework.ui.Model;

import com.beepbot.controller.NewsController;
import com.beepbot.dto.Location;
import com.beepbot.entity.Country;
import com.beepbot.repository.CountryRepository;
import com.beepbot.services.impl.NewsServiceImpl;

/**
 * @author cis
 *
 */
@SpringBootTest()
@RunWith(SpringRunner.class)
class NewsControllerTest {

	@MockBean
	private NewsServiceImpl newsService;

	@Autowired
	private NewsController newsController;

	/**
	 * @throws java.lang.Exception
	 */
	@BeforeAll
	static void setUpBeforeClass() throws Exception {
	}

	/**
	 * @throws java.lang.Exception
	 */
	@AfterAll
	static void tearDownAfterClass() throws Exception {
	}

	/**
	 * @throws java.lang.Exception
	 */
	@BeforeEach
	void setUp() throws Exception {
	}

	/**
	 * @throws java.lang.Exception
	 */
	@AfterEach
	void tearDown() throws Exception {
	}

	@Test
	void testGetCountryNews() {
		Country country = new Country();
		country.setCountry("india");
		when(newsService.getCountryNews(Mockito.anyString())).thenReturn(getNewsDetails());
		String newsRespones = newsController.getCountryNews(new ConcurrentModel(), "india");
		System.out.println(newsRespones + "------>>");
		assertEquals("news", newsRespones);

	}

	public String getNewsDetails() {
        	return "{\"status\":\"ok\",\"totalResults\":38,\"articles\":[{\"source\":{\"id\":null,\"name\":\"Livemint.com\"},\"author\":\"Reuters\",\"title\":\"Maruti Suzuki on CCI radar for forcing buyers to purchase its car insurance - Livemint\",\"description\":\"Last year, CCI received an anonymous complaint on Maruti's car insurance.CCI is assessing whether Maruti has engaged in so-called tie-in arrangements, in which a car maker promotes preferred suppliers of complementary goods such as lubricants or insurance, th…\",\"url\":\"https://www.livemint.com/companies/news/maruti-suzuki-on-cci-radar-for-forcing-buyers-to-purchase-car-insurance-report-11578562296983.html\",\"urlToImage\":\"https://images.livemint.com/img/2020/01/09/600x338/maruti-kBGI--621x414@LiveMint_1578562613652.jpg\",\"publishedAt\":\"2020-01-09T09:40:11Z\",\"content\":\"New Delhi: India's antitrust regulator is looking into allegations that Maruti Suzuki, the country's biggest car maker, pushes buyers to purchase insurance policies offered by the company, two sources with direct knowledge of the matter told Reuters.\\r\\nThe Com… [+2868 chars]\"},{\"source\":{\"id\":\"the-times-of-india\",\"name\":\"The Times of India\"},\"author\":\"IANS\",\"title\":\"Court asks 'Chhapaak' makers to give due credit to lawyer - Times of India\",\"description\":\"A Delhi court on Thursday directed the makers of 'Chhapaak' to give due credits to advocate Aparna Bhatt for her co\",\"url\":\"https://timesofindia.indiatimes.com/entertainment/hindi/bollywood/news/court-asks-chhapaak-makers-to-give-due-credit-to-lawyer/articleshow/73170709.cms\",\"urlToImage\":\"https://static.toiimg.com/photo/msid-73170714/73170714.jpg?481370\",\"publishedAt\":\"2020-01-09T09:30:00Z\",\"content\":null},{\"source\":{\"id\":\"the-times-of-india\",\"name\":\"The Times of India\"},\"author\":\"TIMESOFINDIA.COM\",\"title\":\"Union Minister Nitin Gadkari to request airlines to replace sugar with honey. How healthy is this swap? - Times of India\",\"description\":\"Planning to cut back on sugar in 2020? We have some news for you! In a refreshing move, Union Minister Nitin Gadkari talked about a recent decision of asking major private and public airlines in the country to consider adding honey as an alternative to sugar …\",\"url\":\"https://timesofindia.indiatimes.com/life-style/health-fitness/diet/union-minister-nitin-gadkari-to-request-airlines-to-replace-sugar-with-honey-how-healthy-is-this-swap/photostory/73170651.cms\",\"urlToImage\":\"https://static.toiimg.com/photo/73170755.cms\",\"publishedAt\":\"2020-01-09T09:30:00Z\",\"content\":\"Sugar and honey are both sweeteners - the only thing that makes honey better is its natural composition. While sugar is made up of glucose and fructose (50-50 ratio), honey is also made up of sugar but contains only 30% glucose and a little less than 40% fruc… [+526 chars]\"},{\"source\":{\"id\":null,\"name\":\"Ndtv.com\"},\"author\":null,\"title\":\"CES 2020: Cat S32 Rugged Phone Launched With MIL-STD-810G Build, IP68 Rating, and Android 10 - NDTV\",\"description\":\"The Cat S32 is claimed to remain functional at a depth of 1.5 meters for up to 35 minutes.\",\"url\":\"https://gadgets.ndtv.com/mobiles/news/cat-s32-ces-2020-price-eur-299-launch-specifications-january-8-release-date-2161274\",\"urlToImage\":\"https://i.gadgets360cdn.com/large/cat_S32_main_1578560830176.jpg\",\"publishedAt\":\"2020-01-09T09:22:43Z\",\"content\":\"Cat has added a new rugged phone to its portfolio the Cat S32. Launched at CES 2020, the Cat S32 offers modest internal hardware, but runs on Android 10. However, specifications are not what Cat phones are known for, as they are primarily famed for their soli… [+2505 chars]\"},{\"source\":{\"id\":null,\"name\":\"Indiatoday.in\"},\"author\":null,\"title\":\"Jawaani Jaaneman trailer out: Saif Ali Khan, Tabu promise a rib-tickling comedy - India Today\",\"description\":\"The trailer of Jawaani Jaaneman starring Saif Ali Khan, Tabu and Alaya F is now out.\",\"url\":\"https://www.indiatoday.in/movies/bollywood/story/jawaani-jaaneman-trailer-out-saif-ali-khan-tabu-promise-a-rib-tickling-comedy-1635326-2020-01-09\",\"urlToImage\":\"https://akm-img-a-in.tosshub.com/indiatoday/images/story/202001/jj-647x363.png?nCDZ3GCDvp6wYkyZ9Loh.aTWc5q_Zszs\",\"publishedAt\":\"2020-01-09T09:05:20Z\",\"content\":null},{\"source\":{\"id\":null,\"name\":\"Indianexpress.com\"},\"author\":null,\"title\":\"Underworld don Ejaz Lakdawala arrested by Mumbai Police - The Indian Express\",\"description\":\"Lakdawala's arrest comes weeks after his daughter, Sonia Lakdawala was caught at the Mumbai International Airport while attempting to fly to Nepal using a passport made using forged documents.\",\"url\":\"https://indianexpress.com/article/cities/mumbai/underworld-don-ejaz-lakdawala-arrested-by-mumbai-police-6207766/\",\"urlToImage\":\"https://images.indianexpress.com/2020/01/Ejaz-Lakdawala-2.jpg?w=759\",\"publishedAt\":\"2020-01-09T09:04:56Z\",\"content\":\"Underworld don Ejaz Lakdawala has been arrested by the Mumbai Police.The Mumbai Police on Wednesday arrested fugitive gangster Ejaz Yusuf Lakdawala. The 50-year-old native of Mumbai, who was a member of both the Dawood Ibrahim and Chhota Rajan gangs in the pa… [+2515 chars]\"},{\"source\":{\"id\":null,\"name\":\"Gsmarena.com\"},\"author\":\"Michail\",\"title\":\"Realme teases its own fitness band - GSMArena.com news - GSMArena.com\",\"description\":\"We'll know more about the brand's first fitness tracker soon.\",\"url\":\"https://www.gsmarena.com/realme_fitness_band_teased_at_5i_launch-news-40946.php\",\"urlToImage\":\"https://fdn.gsmarena.com/imgroot/news/20/01/realme-fitness-band-teased/-476x249w4/gsmarena_006.jpg\",\"publishedAt\":\"2020-01-09T08:35:02Z\",\"content\":\"At the end of the Realme 5i introduction, CEO Madhav Sheth teased the brands upcoming fitness tracker. We got a brief look at the device as Sheth strapped it to his wrist. It features the signature Realme yellow color. We can also see a small glimpse of the … [+391 chars]\"},{\"source\":{\"id\":null,\"name\":\"Ndtv.com\"},\"author\":\"NDTVSports.com\",\"title\":\"India vs Australia: Aaron Finch Confident Of Australia's Game Plan For ODI Series Against India - NDTVSports.com\",\"description\":\"Aaron Finch said that the 3-2 series win in India in 2019 gave the team confidence in their game plan in subcontinent conditions.\",\"url\":\"https://sports.ndtv.com/india-vs-australia-2019-20/aaron-finch-confident-in-australia-game-plan-for-odi-series-against-india-2161124\",\"urlToImage\":\"https://c.ndtvimg.com/2020-01/ar6hf6j8_aaron-finch-twitter_625x300_09_January_20.jpg\",\"publishedAt\":\"2020-01-09T08:03:00Z\",\"content\":\"Australia have the goods to give Virat Kohli's men a run for their money, skipper Aaron Finch said Thursday as he departed for their three-match one-day series. The two sides face each other in Mumbai on January 14 before heading to Rajkot and then Bangalore … [+2228 chars]\"},{\"source\":{\"id\":null,\"name\":\"Ndtv.com\"},\"author\":null,\"title\":\"WHO Says New Virus May Have Caused China Pneumonia Outbreak - NDTV News\",\"description\":\"China believes a mysterious pneumonia outbreak that struck 59 people is caused by a new strain of virus from the same family as SARS, which killed hundreds of people more than a decade ago.\",\"url\":\"https://www.ndtv.com/world-news/world-health-organization-says-new-virus-may-have-caused-china-pneumonia-outbreak-2161218\",\"urlToImage\":\"https://i.ndtvimg.com/i/2017-10/scientist-generic-unsplash_650x400_51507487372.jpg\",\"publishedAt\":\"2020-01-09T08:03:00Z\",\"content\":\"Total of 15 positive results of the new type of coronavirus had been detected in the lab: Report (File)\\r\\nBeijing: China believes a mysterious pneumonia outbreak that struck 59 people is caused by a new strain of virus from the same family as SARS, which kille… [+4279 chars]\"},{\"source\":{\"id\":\"the-hindu\",\"name\":\"The Hindu\"},\"author\":\"Krishnadas Rajagopal\",\"title\":\"Chief Justice Sharad Bobde scoffs at plea to declare CAA ‘constitutional’ - The Hindu\",\"description\":\"He explains to lawyer that any law passed by the legislature is anyway attached with “a presumption of constitutionality”.\",\"url\":\"https://www.thehindu.com/news/national/chief-justice-sharad-bobde-scoffs-at-plea-to-declare-caa-constitutional/article30521922.ece\",\"urlToImage\":\"https://www.thehindu.com/news/national/lvg2qb/article30496646.ece/ALTERNATES/LANDSCAPE_615/SupremeCourt\",\"publishedAt\":\"2020-01-09T07:56:34Z\",\"content\":\"Chief Justice of India (CJI) Sharad A. Bobde said the country was already going through difficult times and an endeavour should be made to maintain peace.\\r\\nThe CJI made the oral comments while hearing a petition seeking an aggressive implementation of the Cit… [+2956 chars]\"},{\"source\":{\"id\":\"the-times-of-india\",\"name\":\"The Times of India\"},\"author\":null,\"title\":\"PM Modi meets economists, experts at Niti Aayog ahead of Budget - Times of India\",\"description\":\"India Business News: Prime Minister Narendra Modi is meeting economists and experts at the Niti Aayog to discuss the state of economy and steps to be taken to revive growt\",\"url\":\"https://timesofindia.indiatimes.com/business/india-business/pm-modi-meets-economists-experts-at-niti-aayog-ahead-of-budget/articleshow/73169208.cms\",\"urlToImage\":\"https://static.toiimg.com/thumb/msid-73169195,width-1070,height-580,imgsize-1139818,resizemode-75,overlay-toi_sw,pt-32,y_pad-40/photo.jpg\",\"publishedAt\":\"2020-01-09T07:47:00Z\",\"content\":null},{\"source\":{\"id\":\"al-jazeera-english\",\"name\":\"Al Jazeera English\"},\"author\":\"Al Jazeera\",\"title\":\"US-Iran tensions after Soleimani killing: All the latest updates - Al Jazeera English\",\"description\":\"US President Donald Trump says Iran appears to be 'standing down' after air strikes on Iraqi bases hosting US troops.\",\"url\":\"https://www.aljazeera.com/news/2020/01/iran-tensions-soleimani-killing-latest-updates-200109052154824.html\",\"urlToImage\":\"https://www.aljazeera.com/mritems/Images/2020/1/9/394439da5b5d43debd61dcfe51ae2b79_18.jpg\",\"publishedAt\":\"2020-01-09T07:41:00Z\",\"content\":\"President Donald Trump has given no indication that the United States will respond militarily to Iran's attacks on Iraqi bases hosting US troops, signalling a de-escalation in a major crisis triggered by the US assassination of a top Iranian commander.\\r\\nTrump… [+5718 chars]\"},{\"source\":{\"id\":\"the-hindu\",\"name\":\"The Hindu\"},\"author\":\"PTI\",\"title\":\"After Airtel, Reliance Jio launches voice and video calling over Wi-Fi - The Hindu\",\"description\":\"The service allows customers to switch from LTE- to WiFi-based calling.\",\"url\":\"https://www.thehindu.com/business/Industry/after-airtel-reliance-jio-launches-voice-and-video-calling-over-wi-fi/article30521773.ece\",\"urlToImage\":\"https://www.thehindu.com/business/Industry/ds9ef3/article30521771.ece/ALTERNATES/LANDSCAPE_615/09THRELIANCEJIO\",\"publishedAt\":\"2020-01-09T07:28:09Z\",\"content\":\"Reliance Jio on Wednesday launched voice and video calling over Wi-Fi service, less than a month after rival Airtel launched a similar service in Delhi-NCR. The service allow customers to switch seamlessly from LTE to Wi-Fi-based calling when they are at home… [+791 chars]\"},{\"source\":{\"id\":null,\"name\":\"Thenewsminute.com\"},\"author\":null,\"title\":\"'Darbar' review: Rajinikanth is thoroughly entertaining in a stale cop film - The News Minute\",\"description\":\"AR Murugadoss's Darbar is what the title suggests it is – it's about a king and his court. Except, the king is a policeman who is in the year 2020, in a democratic country which has inconveniences like human rights. So, when Commissioner of Police Aaditya Aru…\",\"url\":\"https://www.thenewsminute.com/article/darbar-review-rajinikanth-thoroughly-entertaining-stale-cop-film-115768\",\"urlToImage\":\"https://www.thenewsminute.com/sites/default/files/rajini_Darbar.jpg\",\"publishedAt\":\"2020-01-09T07:27:33Z\",\"content\":\"It's Rajinikanth's trademark swag that keeps the scenes alive in a predictable film.AR Murugadoss's Darbar is what the title suggests it is it's about a king and his court. Except, the king is a policeman who is in the year 2020, in a democratic country which… [+4809 chars]\"},{\"source\":{\"id\":null,\"name\":\"Moneycontrol.com\"},\"author\":null,\"title\":\"Sensex rises over 500 points, Nifty nears 12,200; 5 factors that are boosting the sentiment - Moneycontrol.com\",\"description\":\"Nearly four shares advanced for every share falling on the National Stock Exchange.\",\"url\":\"https://www.moneycontrol.com/news/business/markets/sensex-rises-over-500-points-nifty-nears-12200-5-factors-that-are-boosting-the-sentiment-4800311.html\",\"urlToImage\":\"https://static-news.moneycontrol.com/static-mcnews/2017/03/trader-stock-market-nse-bse-market-up-bull-770x433.jpg\",\"publishedAt\":\"2020-01-09T07:23:00Z\",\"content\":\"Bulls regained control on the Street on January 9 with the Sensex climbing over 41,000 level and Nifty near its psychological 12,200 level. The rally was across sectors, barring IT, - Nifty Bank, Auto, and Realty indices rose around 2 percent each.\\r\\nThe BSE S… [+4998 chars]\"},{\"source\":{\"id\":\"the-times-of-india\",\"name\":\"The Times of India\"},\"author\":\"Times Of India\",\"title\":\"Lokpal judicial member Justice Bhosale resigns - Times of India\",\"description\":\"India News: Former Chief Justice of Allahabad high court, Justice Dilip Bhosale, currently judicial member of Lokpal Committee, has tendered his resignation citin\",\"url\":\"https://timesofindia.indiatimes.com/india/lokpal-judicial-member-justice-bhosale-resigns/articleshow/73168490.cms\",\"urlToImage\":\"https://static.toiimg.com/thumb/msid-73168574,width-1070,height-580,imgsize-552545,resizemode-75,overlay-toi_sw,pt-32,y_pad-40/photo.jpg\",\"publishedAt\":\"2020-01-09T07:08:00Z\",\"content\":\"Copyright © 2019 Bennett, Coleman &amp; Co. Ltd. All rights reserved. For reprint rights: Times Syndication Service\"},{\"source\":{\"id\":null,\"name\":\"Moneycontrol.com\"},\"author\":null,\"title\":\"Madras HC concludes hearing on Vedanta plea challenging closure of Sterlite plant - Moneycontrol\",\"description\":\"Concluding the hearing of arguments after 39 days, a special bench of Justices TS Sivagnanam and V Bhavani Subbaroyan said on Wednesday it would try to deliver the order as expeditiously as possible.\",\"url\":\"https://www.moneycontrol.com/news/india/hc-concludes-hearing-on-vedanta-plea-challenging-closure-of-sterlite-plant-4800231.html\",\"urlToImage\":\"https://static-news.moneycontrol.com/static-mcnews/2018/07/Vedanta-Ltd.-770x433.jpg\",\"publishedAt\":\"2020-01-09T07:04:00Z\",\"content\":\"The Madras High Court has reserved orders on a petition moved by mining major Vedanta Limited challenging the closure of its copper smelter unit in Thootukudi in Tamil Nadu in May 2018.\\r\\nConcluding the hearing of arguments after 39 days, a special bench of Ju… [+2874 chars]\"},{\"source\":{\"id\":null,\"name\":\"Indiatoday.in\"},\"author\":null,\"title\":\"Malaysia Masters: Saina Nehwal downs World No.9 Se Young An to reach quarter-finals - India Today\",\"description\":\"Malaysia Masters Super 500: Saina Nehwal made light work of a challenge from World No. 9 Se Young An to reach the quarter-finals in Kuala Lumpur.\",\"url\":\"https://www.indiatoday.in/sports/badminton/story/malaysia-masters-saina-nehwal-downs-se-young-an-to-reach-quarter-finals-pv-sindhu-1635248-2020-01-09\",\"urlToImage\":\"https://akm-img-a-in.tosshub.com/indiatoday/images/story/202001/saina-647x363.jpeg?n3HVv8QG6AFmmgv_RrX7YC.WD80biiq1\",\"publishedAt\":\"2020-01-09T06:48:02Z\",\"content\":\"Ace Indian shuttler Saina Nehwal defeated World No. 9 Se Young An in straight games to sail into the quarter-finals of Malaysia Masters in Kuala Lumpur on Wednesday. World No. 11 Nehwal came up with a dominant performance against Young as she clinched the sec… [+1329 chars]\"},{\"source\":{\"id\":null,\"name\":\"91mobiles.com\"},\"author\":\"Ashish Kumar\",\"title\":\"[Exclusive] Samsung Galaxy Note 10 Lite price in India will start at Rs 35,990 - 91mobiles\",\"description\":\"Samsung Galaxy Note 10 Lite prices in India for the 6GB and 8GB variants will be Rs 35,990 and Rs 39,990, respectively.\",\"url\":\"https://www.91mobiles.com/hub/samsung-galaxy-note-10-lite-price-in-india-starts-35990-exclusive/\",\"urlToImage\":\"https://static.hub.91mobiles.com/wp-content/uploads/2020/01/Galaxy-Note-10-Lite.png\",\"publishedAt\":\"2020-01-09T06:45:53Z\",\"content\":\"“Samsung Galaxy Note 10 Lite prices in India for the 6GB and 8GB variants will be Rs 35,990 and Rs 39,990, respectively”\\r\\nThe Samsung Galaxy Note 10 Lite, the budget version of Samsung’s popular 2019 flagship, will be priced aggressively to take on OnePlus in… [+1676 chars]\"},{\"source\":{\"id\":null,\"name\":\"Techexplorist.com\"},\"author\":\"https://www.facebook.com/malewar.amit\",\"title\":\"New precise measurement of the universe’s expansion rate - Tech Explorist\",\"description\":\"It strengthens the call for new physics.\",\"url\":\"https://www.techexplorist.com/new-precise-measurement-universes-expansion-rate/28972/\",\"urlToImage\":\"https://www.techexplorist.com/wp-content/uploads/2020/01/Hubble.jpg\",\"publishedAt\":\"2020-01-09T06:42:31Z\",\"content\":\"The Hubble constant is a unit that portrays how quick the universe is expanding at various distances from a specific point in space. It is one of the cornerstones in our comprehension of the universe’s evolution and scientists are buried in a discussion over … [+4501 chars]\"}]}";
	}

}
